(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{149:function(e,t,n){},151:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(54),a=n.n(i),o=(n(149),n(59)),s=n.n(o),l=n(111),u=n(19),d=n(20),j=n(24),h=n(22),p=(n.p,n(151),n(82)),b=n(62),O=n(172),m=n(175),x=n(4),f=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).onChange=function(e){c.setState(Object(b.a)({},e.target.name,e.target.value))},c.onSubmit=function(e){e.preventDefault();var t=Object(p.a)({},c.state);c.props.addToList(t),c.setState({type:"",count:0,price:0})},c.state={type:"",count:0,price:0},c}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{style:{width:500,margin:"auto",backgroundColor:"lightblue"},children:Object(x.jsxs)(O.a,{onSubmit:this.onSubmit,children:[Object(x.jsxs)(O.a.Field,{children:[Object(x.jsx)("label",{htmlFor:"type",children:"Item Type:"}),Object(x.jsx)("input",{type:"text",name:"type",onChange:this.onChange,value:this.state.type})]}),Object(x.jsxs)(O.a.Field,{children:[Object(x.jsx)("label",{htmlFor:"count",children:"Count:"}),Object(x.jsx)("input",{type:"number",name:"count",onChange:this.onChange,value:this.state.count})]}),Object(x.jsxs)(O.a.Field,{children:[Object(x.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(x.jsx)("input",{type:"number",name:"price",step:"0.01",onChange:this.onChange,value:this.state.price})]}),Object(x.jsx)(m.a,{type:"submit",children:"Add"})]})})}}]),n}(r.a.Component),v=n(177),g=n(173),C=n(70),y=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{style:{height:120,backgroundColor:"lightblue"},children:[Object(x.jsx)(v.a,{children:"Shopping App"}),Object(x.jsxs)(g.a,{children:[Object(x.jsx)(g.a.Item,{children:Object(x.jsx)(C.b,{to:"/",children:"Shopping List"})}),Object(x.jsx)(g.a.Item,{children:Object(x.jsx)(C.b,{to:"/form",children:"Add new item"})})]})]})}}]),n}(r.a.Component),k=n(174),S=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)(k.a.Row,{children:[Object(x.jsx)(k.a.Cell,{children:this.props.item.type}),Object(x.jsx)(k.a.Cell,{children:this.props.item.count}),Object(x.jsx)(k.a.Cell,{children:this.props.item.price}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)(m.a,{color:"red",onClick:function(){return e.props.changeToRemoveMode(e.props.index)},children:"Remove"})}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)(m.a,{color:"green",onClick:function(){return e.props.changeToEditMode(e.props.index)},children:"Edit"})})]})}}]),n}(r.a.Component),I=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)(k.a.Row,{children:[Object(x.jsx)(k.a.Cell,{children:this.props.item.type}),Object(x.jsx)(k.a.Cell,{children:this.props.item.count}),Object(x.jsx)(k.a.Cell,{children:this.props.item.price}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)(m.a,{color:"grey",onClick:function(){return e.props.cancel()},children:"Cancel"})}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)(m.a,{color:"green",onClick:function(){return e.props.removeFromList(e.props.item.id)},children:"Confirm"})})]})}}]),n}(r.a.Component),F=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).onChange=function(e){c.setState(Object(b.a)({},e.target.name,e.target.value))},c.onSubmit=function(e){var t=Object(p.a)(Object(p.a)({},c.state),{},{id:c.props.item.id});c.props.editItem(t)},c.state={type:e.item.type,count:e.item.count,price:e.item.price},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)(k.a.Row,{children:[Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)("input",{type:"text",name:"type",onChange:this.onChange,value:this.state.type})}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)("input",{type:"number",name:"count",onChange:this.onChange,value:this.state.count})}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)("input",{type:"number",name:"price",step:"0.01",onChange:this.onChange,value:this.state.price})}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)(m.a,{color:"green",onClick:this.onSubmit,children:"Save"})}),Object(x.jsx)(k.a.Cell,{children:Object(x.jsx)(m.a,{color:"grey",onClick:function(){return e.props.cancel()},children:"Cancel"})})]})}}]),n}(r.a.Component),L=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).changeToRemoveMode=function(e){c.setState({removeIndex:e,editIndex:-1})},c.changeToEditMode=function(e){c.setState({removeIndex:-1,editIndex:e})},c.cancel=function(){c.setState({removeIndex:-1,editIndex:-1})},c.removeFromList=function(e){c.props.removeFromList(e),c.cancel()},c.editItem=function(e){c.props.editItem(e),c.cancel()},c.state={removeIndex:-1,editIndex:-1},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.list.map((function(t,n){return e.state.removeIndex===n?Object(x.jsx)(I,{item:t,removeFromList:e.removeFromList,cancel:e.cancel},t.id):e.state.editIndex===n?Object(x.jsx)(F,{item:t,editItem:e.editItem,cancel:e.cancel},t.id):Object(x.jsx)(S,{item:t,index:n,changeToRemoveMode:e.changeToRemoveMode,changeToEditMode:e.changeToEditMode},t.id)}));return Object(x.jsxs)(k.a,{striped:!0,children:[Object(x.jsxs)(k.a.Header,{children:[Object(x.jsx)(k.a.HeaderCell,{children:"Item type"}),Object(x.jsx)(k.a.HeaderCell,{children:"Count"}),Object(x.jsx)(k.a.HeaderCell,{children:"Price"}),Object(x.jsx)(k.a.HeaderCell,{children:"Remove"}),Object(x.jsx)(k.a.HeaderCell,{children:"Edit"})]}),Object(x.jsx)(k.a.Body,{children:t})]})}}]),n}(r.a.Component),T=n(10),w=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).getList=function(){fetch("/api/shopping",{method:"GET",mode:"cors",headers:{"Content-type":"application/json"}}).then((function(e){e.ok?e.json().then((function(e){c.setState({list:e})})).catch((function(e){console.log("Failed to parse JSON, reason:"+e)})):console.log("Server responded with a status:"+e.status)})).catch((function(e){console.log(e)}))},c.addToList=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api/shopping",n).catch((function(e){return console.log(e)}));case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:r.ok?c.getList():console.log("Failed to add to list. Server responded with a status:"+r.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.removeFromList=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",mode:"cors",headers:{"Content-type":"application/json"}},e.next=3,fetch("/api/shopping/"+t,n).catch((function(e){return console.log(e)}));case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:r.ok?c.getList():console.log("Failed to remove from list. Server responded with a status:"+r.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.editItem=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api/shopping/"+t.id,n).catch((function(e){return console.log(e)}));case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:r.ok?c.getList():console.log("Failed to edit item. Server responded with a status:"+r.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state={list:[]},c}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(y,{}),Object(x.jsx)("hr",{}),Object(x.jsxs)(T.c,{children:[Object(x.jsx)(T.a,{exact:!0,path:"/",render:function(){return Object(x.jsx)(L,{list:e.state.list,removeFromList:e.removeFromList,editItem:e.editItem})}}),Object(x.jsx)(T.a,{path:"/form",render:function(){return Object(x.jsx)(f,{addToList:e.addToList})}})]})]})}}]),n}(r.a.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};n(159);a.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(C.a,{children:Object(x.jsx)(w,{})})}),document.getElementById("root")),E()}},[[160,1,2]]]);
//# sourceMappingURL=main.5e6c84f9.chunk.js.map