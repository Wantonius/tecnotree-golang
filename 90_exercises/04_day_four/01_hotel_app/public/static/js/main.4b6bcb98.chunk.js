(this.webpackJsonp01_hotel_app=this.webpackJsonp01_hotel_app||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(15),s=n.n(i),o=(n(28),n(29),n(10)),a=n(0),j=function(e){var t="/hotel/"+e.item.id;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(o.b,{to:t,children:e.item.name})}),Object(a.jsx)("td",{children:e.item.address}),Object(a.jsx)("td",{children:e.item.city}),Object(a.jsx)("td",{children:e.item.country}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return e.removeFromList(e.item.id)},children:"Remove"})})]})},l="LOADING",d="STOP_LOADING",b="FETCH_HOTELS_SUCCESS",u="FETCH_HOTELS_FAILED",h="ADD_HOTEL_SUCCESS",O="ADD_HOTEL_FAILED",m="REMOVE_HOTEL_SUCCESS",x="REMOVE_HOTEL_FAILED",y="EDIT_HOTEL_SUCCESS",p="EDIT_HOTEL_FAILED",f=function(e,t,n){var r={type:l,list:[],error:""};n(r),fetch(e).then((function(e){if(r.type=d,n(r),e.ok)e.json().then((function(e){"getlist"===t&&n({type:b,list:e,error:""});"addtolist"===t&&(n({type:h,list:[],error:""}),n(g()));"removefromlist"===t&&(n({type:m,list:[],error:""}),n(g()));"edititem"===t&&(n({type:y,list:[],error:""}),n(g()))})).catch((function(e){console.log("Failed to parse JSON:"+e)}));else{if("getlist"===t){var c={type:u,list:[],error:"Fetch hotels failed. Server responded with a status:"+e.status};n(c)}if("addtolist"===t){var i={type:O,list:[],error:"Adding a hotel failed. Server responded with a status:"+e.status};n(i)}if("removefromlist"===t){var s={type:x,list:[],error:"Remove a hotel failed. Server responded with a status:"+e.status};n(s)}if("edititem"===t){var o={type:p,list:[],error:"Editing a hotel  failed. Server responded with a status:"+e.status};n(o)}}})).catch((function(e){console.log(e)}))},g=function(){return function(e){var t=new Request("/api/hotel",{method:"GET",headers:{"Content-type":"application/json"}});f(t,"getlist",e)}},v=n(5),C=function(){var e=Object(v.c)((function(e){return e.list})),t=Object(v.b)(),n=e.map((function(e){return Object(a.jsx)(j,{item:e,removeFromList:function(){return t((n=e.id,function(e){var t=new Request("/api/hotel/"+n,{method:"DELETE",headers:{"Content-type":"application/json"}});f(t,"removefromlist",e)}));var n}},e.id)}));return Object(a.jsx)("div",{style:{margin:"auto",textAlign:"center"},children:Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Address"}),Object(a.jsx)("th",{children:"City"}),Object(a.jsx)("th",{children:"Country"}),Object(a.jsx)("th",{children:"Remove"})]})}),Object(a.jsx)("tbody",{children:n})]})})},E=function(){var e=Object(v.c)((function(e){return e.loading})),t=Object(v.c)((function(e){return e.error})),n=Object(a.jsx)("h4",{children:"Hotel app"});e&&(n=Object(a.jsx)("h4",{children:"Loading ..."})),t&&(n=Object(a.jsx)("h4",{children:t}));return Object(a.jsxs)("div",{style:{backgroundColor:"lightblue",height:120},children:[n,Object(a.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/",children:"Hotel List"})}),Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/form",children:"Add to list"})})]})]})},S=n(12),F=n(2),T=n(13),L=n(22),_=function e(t,n,r,c,i,s){Object(L.a)(this,e),this.id=0,this.name="",this.address="",this.city="",this.country="",this.comment="",this.id=t,this.name=n,this.address=r,this.city=c,this.country=i,this.comment=s},A=function(){var e=Object(r.useState)({name:"",address:"",city:"",country:"",comment:""}),t=Object(T.a)(e,2),n=t[0],c=t[1],i=Object(v.b)(),s=function(e){c(Object(F.a)(Object(F.a)({},n),{},Object(S.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new _(0,n.name,n.address,n.city,n.country,n.comment);i(function(e){return function(t){var n=new Request("/api/hotel",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)});f(n,"addtolist",t)}}(t)),c({name:"",address:"",city:"",country:"",comment:""})},children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(a.jsx)("input",{type:"text",name:"name",onChange:s,value:n.name}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"address",children:"Address:"}),Object(a.jsx)("input",{type:"text",name:"address",onChange:s,value:n.address}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"city",children:"City:"}),Object(a.jsx)("input",{type:"text",name:"city",onChange:s,value:n.city}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"country",children:"Country:"}),Object(a.jsx)("input",{type:"text",name:"country",onChange:s,value:n.country}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"comment",children:"Comment:"}),Object(a.jsx)("input",{type:"text",name:"comment",onChange:s,value:n.comment}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"submit",value:"Add"})]})},D=n(4),w=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:e.hotel.name}),Object(a.jsxs)("p",{children:["Address:",e.hotel.address]}),Object(a.jsxs)("p",{children:["City:",e.hotel.city]}),Object(a.jsxs)("p",{children:["Country:",e.hotel.country]}),Object(a.jsxs)("p",{children:["Comment:",e.hotel.comment]}),Object(a.jsx)("button",{onClick:e.editMode,children:"Edit"})]})},I=function(e){var t=Object(r.useState)({name:e.hotel.name,address:e.hotel.address,city:e.hotel.city,country:e.hotel.country,comment:e.hotel.comment}),n=Object(T.a)(t,2),c=n[0],i=n[1],s=function(e){i(Object(F.a)(Object(F.a)({},c),{},Object(S.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(a.jsxs)("form",{children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(a.jsx)("input",{type:"text",name:"name",onChange:s,value:c.name}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"address",children:"Address:"}),Object(a.jsx)("input",{type:"text",name:"address",onChange:s,value:c.address}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"city",children:"City:"}),Object(a.jsx)("input",{type:"text",name:"city",onChange:s,value:c.city}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"country",children:"Country:"}),Object(a.jsx)("input",{type:"text",name:"country",onChange:s,value:c.country}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"comment",children:"Comment:"}),Object(a.jsx)("input",{type:"text",name:"comment",onChange:s,value:c.comment}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{name:"edit",onClick:function(t){var n=new _(e.hotel.id,c.name,c.address,c.city,c.country,c.comment);e.editItem(n),i({name:"",address:"",city:"",country:"",comment:""})},children:"Edit"}),Object(a.jsx)("button",{name:"cancel",onClick:function(t){e.cancel()},children:"Cancel"})]})},H=Object(D.f)((function(e){var t=Object(v.c)((function(e){return e.list})),n=Object(v.b)(),c=Object(r.useState)({index:0,edit:!1}),i=Object(T.a)(c,2),s=i[0],o=i[1];Object(r.useEffect)((function(){for(var n=parseInt(e.match.params.id,10),r=0;r<t.length;r++)n===t[r].id&&o(Object(F.a)(Object(F.a)({},s),{},{index:r}))}),[]);var j=function(){o(Object(F.a)(Object(F.a)({},s),{},{edit:!1}))},l={width:200,height:300,backgroundColor:"lightgreen",margin:"auto",textAlign:"center"},d=t[s.index];return s.edit?Object(a.jsx)("div",{style:l,children:Object(a.jsx)(I,{hotel:d,editItem:function(t){n(function(e){return function(t){var n=new Request("/api/hotel/"+e.id,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)});f(n,"edititem",t)}}(t)),j(),e.history.push("/")},cancel:j})}):Object(a.jsx)("div",{style:l,children:Object(a.jsx)(w,{hotel:d,editMode:function(){o(Object(F.a)(Object(F.a)({},s),{},{edit:!0}))}})})})),k=function(){var e=Object(v.b)();return Object(r.useEffect)((function(){e(g())}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(E,{}),Object(a.jsx)("hr",{}),Object(a.jsxs)(D.c,{children:[Object(a.jsx)(D.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(C,{})}}),Object(a.jsx)(D.a,{path:"/form",render:function(){return Object(a.jsx)(A,{})}}),Object(a.jsx)(D.a,{path:"/hotel/:id",render:function(){return Object(a.jsx)(H,{})}})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))},R=n(21),J=n(23),M={loading:!1,list:[],error:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(F.a)(Object(F.a)({},e),{},{loading:!0,error:""});case d:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:""});case b:return{list:t.list,loading:!1,error:""};case u:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.error});case h:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:""});case O:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.error});case m:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:""});case x:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.error});case y:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:""});case p:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.error});default:return e}},U=Object(R.b)(P,Object(R.a)(J.a));s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(v.a,{store:U,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(k,{})})})}),document.getElementById("root")),N()}},[[36,1,2]]]);
//# sourceMappingURL=main.4b6bcb98.chunk.js.map